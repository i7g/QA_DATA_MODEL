## Files

This project creates a data model with the following 6 source tables: 
 - `conversations.csv`
 - `manual_reviews.csv`
 - `manual_ratings.csv`
 - `autoqa_reviews.csv`
 - `autoqa_ratings.csv`
 - `autoqa_root_cause.csv`

An Entity diagram showcasing how each table relates to each other was created using draw.io as the following file:
 - `entity_relationship_diagram.drawio`

## Table Details 

This section describes some characteristics of the source tables and the thought process used to generate an entity-relationship model.

### - Conversations: 
This is the "main table" in the model, it contains information on conversations for each Merchant Support Ticket ID. There is information about: timestamps, word/character counts, sentiment of the conversation, user_ids, etc

The table does not contain a single unique column, therefore the combination of **`payment_token_id`** and **`external_ticket_id`** will be used as a Primary Key.

### - Manual Reviews:
This table contains manual reviews given by a Team Leader/Manager/Trainer (Reviewer) towards a MS Agent (Reviewee) with regard to conversations the agent was involved in MS Tickets.
A single conversation can be reviewed multiple times under multiple different scorecards (review templates), by one or multiple Reviewers

Manual Reviews is joined to Conversations.   
These manual reviews can be joined to the conversations table via `conversation_external_id`.

### - Manual Ratings:
Each review can be given multiple ratings. A single review can contain multiple questions evaluating the agent's: Grammar, Tone, Knowledge of the product, Empathy, etc 

Manual Ratings is joined to Manual Reviews.
The table does not contain a single unique column, therefore the combination of **`review_id`** and **`category_id`** will be used as a Primary Key.

### - AutoQA Reviews:
This table contains automatic reviews done by a proprietary Artificial Intelligence model (AutoQA). This AI reviews are given to MS Agents (Reviewee) with regards to conversations the agent was involved in MS Tickets.
A single conversation can be reviewed one or multiple times.

AutoQA Reviews is joined to the Conversations table via `conversation_external_id`.   

### - AutoQA Ratings:
Each AI review can be given multiple ratings. A single review can contain multiple questions evaluating the agent's: Grammar, Tone, Knowledge of the product, Empathy, etc 

AutoQA Ratings is joined to AutoQA Reviews via `autoqa_review_id`.

### - AutoQA Root Cause:
This source table has some problems. 

 - There is no unique field.
 - A unique field cannot be generated by concatenating multiple columns. 
 - The column category only contains blank data. 
 - No rows in the autoqa_rating_id match the column with the same name from table AutoQA Reviews.
  
With that in mind, we will work with assumptions of the purpose of this table and how it relates with the rest of the data model  

A Primary key will be generated by concatenating `autoqa_rating_id` with a row_number.
AutoQA Root Cause is joined to AutoQA Reviews via `autoqa_rating_id`
